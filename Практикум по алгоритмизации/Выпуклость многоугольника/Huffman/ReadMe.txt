

Многоугольник будет выпуклым если при его обходе в каждой тройке последовательных вершин происходит поворот всегда в одну и ту же сторону. При обходе многоугольника против часовой стрелке поворот будет всегда налево, а при обходе по часовой - направо.

Если одно ребро многоугольника соответствует вектору AB, а следующее за ним ребро соответствует вектору BC, то направление поворота в этой паре последовательных ребер будет задаваться знаком выражения

AB.x * BC.y - AB.y * BC.x

Для поворота налево это значение будет положительным, а для поворота направо - отрицательным (я предполагаю, что ось Y направлена вверх). Нулевое значение означает, что ребра коллинеарны.

Это дает нам алгоритм определения выпуклости. Для каждой вершины i нам надо вычислить

point ab = 
{ 
  poligon_[i].x - poligon_[i - 1].x, 
  poligon_[i].y - poligon_[i - 1].y
};

point bc = 
{ 
  poligon_[i + 1].x - poligon_[i].x, 
  poligon_[i + 1].y - poligon_[i].y
};

double product = ab.x * bc.y - ab.y * bc.x;

(Разумеется, надо быть аккуратным при вычислении индексов соседних точек i - 1 и i + 1 на краях массива)

По поведению знака величины product на всех вершинах многоугольника мы и получим ответ на наш вопрос о выпуклости.

Опять же, если заранее известно, что многоугольник обходится против часовой стрелки, то встретив первое отрицательное product, вы можете сразу говорить, что многоугольник невыпукл.

Если направление обхода заранее неизвестно, то придется проверить все вершины и убедиться, что знаки величины product везде одинаковы (и не забыть аккуратно обработать нулевое значение).
